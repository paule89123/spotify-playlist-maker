(this["webpackJsonpreact-practice"]=this["webpackJsonpreact-practice"]||[]).push([[0],[,,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(3),i=a.n(r),o=(a(10),a(4)),s=a(1);a(11),a(12);var l=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),r=a[0],i=a[1];return c.a.createElement("div",{className:"SearchBar"},c.a.createElement("input",{placeholder:"Enter A Song, Album, or Artist...",onChange:function(e){i(e.target.value)}}),c.a.createElement("button",{onClick:function(){e.onSearch(r)},className:"SearchButton capitalised"},"SEARCH"))};a(13),a(14),a(15);var u=function(e){function t(){e.onAdd(e.track)}function a(){e.onRemove(e.track)}return c.a.createElement("div",{className:"Track"},c.a.createElement("div",{className:"Track__text"},c.a.createElement("div",{className:"Track__text__trackname"},e.track.name),c.a.createElement("div",{className:"Track__text__artistname"},e.track.artist)),e.isRemoval?c.a.createElement("button",{onClick:a,className:"Track__plusminus"},"-"):c.a.createElement("button",{onClick:t,className:"Track__plusminus"},"+"))};var m=function(e){return c.a.createElement("div",{className:"TrackList"},e.tracks.map((function(t){return c.a.createElement(u,{isRemoval:e.isRemoval,track:t,key:t.id,onAdd:e.onAdd,onRemove:e.onRemove})})))};var f=function(e){return c.a.createElement("div",{className:"SearchResults"},c.a.createElement("div",{className:"heading capitalised"},"SEARCH RESULTS"),c.a.createElement(m,{onAdd:e.onAdd,isRemoval:!1,tracks:e.searchResults}))};a(16);var d,h=function(e){return c.a.createElement("div",{className:"Playlist"},c.a.createElement("div",{className:"heading capitalised"},"PLAYLIST"),c.a.createElement("input",{onChange:function(t){var a=t.target.value;e.onNameChange(a)},defaultValue:"Name Your Playlist..."}),c.a.createElement(m,{tracks:e.playlistTracks,playlistName:e.playlistName,isRemoval:!0,onRemove:e.onRemove}),c.a.createElement("button",{className:"Playlist-save",onClick:e.onSave},c.a.createElement("span",{className:"capitalised"},"SAVE TO SPOTIFY")))},p={getAccessToken:function(){if(d)return d;var e=window.location.href.match(/access_token=([^&]*)/),t=window.location.href.match(/expires_in=([^&]*)/);if(e&&t){d=e[1];var a=Number(t[1]);return window.setTimeout((function(){return d=""}),1e3*a),window.history.pushState("Access Token",null,"/"),d}var n="https://accounts.spotify.com/authorize?client_id=".concat("7fcb6b41c57645c9ab17caf988117bcb","&response_type=token&scope=playlist-modify-public&redirect_uri=").concat("https://paule89123.github.io/spotify-playlist-maker/");window.location=n},search:function(e){var t=p.getAccessToken();return fetch("https://api.spotify.com/v1/search?type=track&q=".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return e.tracks?e.tracks.items.map((function(e){return{id:e.id,name:e.name,artist:e.artists[0].name,album:e.album.name,uri:e.uri}})):[]}))},savePlaylist:function(e,t){if(e&&t.length){var a,n=p.getAccessToken(),c={Authorization:"Bearer ".concat(n)};return fetch("https://api.spotify.com/v1/me",{headers:c}).then((function(e){return e.json()})).then((function(n){return a=n.id,fetch("https://api.spotify.com/v1/users/".concat(a,"/playlists"),{headers:c,method:"POST",body:JSON.stringify({name:e})}).then((function(e){return e.json()})).then((function(e){var n=e.id;return fetch("https://api.spotify.com/v1/users/".concat(a,"/playlists/").concat(n,"/tracks"),{headers:c,method:"POST",body:JSON.stringify({uris:t})})}))}))}}},v=p;var E=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],i=a[1],u=Object(n.useState)("My Playlist"),m=Object(s.a)(u,2),d=m[0],p=m[1],E=Object(n.useState)([]),k=Object(s.a)(E,2),y=k[0],N=k[1];return c.a.createElement("div",null,c.a.createElement("h1",null,c.a.createElement("span",{className:"title1"},"CREATE"),c.a.createElement("br",null),c.a.createElement("span",{className:"title2"},"Spotify Playlists")),c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"App__left-column"},c.a.createElement(l,{onSearch:function(e){v.search(e).then((function(e){i(e)}))}}),c.a.createElement(f,{searchResults:r,onAdd:function(e){for(var t=0;t<y.length;t++)if(y[t].id===e.id)return;var a=Object(o.a)(y);a.push(e),N(a)}})),c.a.createElement("div",{className:"App__right-column"},c.a.createElement(h,{playlistTracks:y,playlistName:d,onRemove:function(e){var t=y.filter((function(t){return t.id!==e.id}));N(t)},onNameChange:function(e){p(e)},onSave:function(){var e=y.map((function(e){return e.uri}));v.savePlaylist(d,e).then((function(){p("New Playlist"),N([])}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[5,1,2]]]);
//# sourceMappingURL=main.a70a41b7.chunk.js.map